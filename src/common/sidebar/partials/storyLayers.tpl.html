<h2 ng-show="menuSection=='storyLayers' + chapter.id"><i class="fa fa-reorder" ng-click="toggleSidebar('storyLayers' + chapter.id)"></i><i class="fa fa-save" data-target="#mapSave" data-toggle="modal"></i>{{ chapter.chapter }}</h2>
<h2 ng-show="menuSection=='mainMenuHidden'"><i class="fa fa-reorder" ng-click="toggleSidebar('storyLayers' + chapter.id)"></i></h2>
<h2>{{ storyService.active_chapter.about.title }}</h2>
<h2>StoryLayers</h2>
<div class="menuItem">
    <i class="fa fa-angle-right"></i>
    <a href="#" ng-click="updateMenuSection('selectedChapter' + chapter.id); updateTourStep(11)">Back to Selected Chapter</a>
</div>
<a href="#add-layer-dialog" class="menuItem" data-toggle="modal" id="addNewStoryLayerButton" ng-click="updateTourStep(6)">Add a New StoryLayer...
</a>

<div id="baseMaps" class="menuItem">
    <label for="baseMapList">Choose Your Basemap</label>
    <select class="form-control" name="baseMapList" id="baseMapList"
            ng-init="baseMap=mapService.getBaseMaps()[4]"
            ng-options="baseMap.get('metadata').config.title for baseMap in baseMaps = mapService.getBaseMaps()"
            ng-model="baseMap"
            ng-change="mapService.selectedBaseMap(baseMap)">
    </select>
</div>

<div class="layer-container" ui-tree="layerTree" id="storyLayersList">
    <div ui-tree-nodes ng-model="storyLayers">
        <div ng-repeat="storyLayer in storyLayers" ui-tree-node>
            <div class="menuItem">
                <i class="fa fa-navicon" ui-tree-handle></i>
                <i ng-click="storyService.toggleVisiblity(storyLayer)"
                   ng-class="{'fa fa-eye': storyLayer.get('visible'), 'fa fa-eye-slash': !storyLayer.get('visible')}"></i>
                <a href="#"
                   ng-click="storyService.selectLayer(storyLayer);updateMenuSection('editStoryLayer' + chapter.id + storyLayers.id); updateTourStep(8)">
                    {{ layerService.getTitle(storyLayer) }}
                </a>
            </div>
        </div>
    </div>
</div>
